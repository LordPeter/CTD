####################
# Player Info events
# 
# by LordPeter
####################

namespace = CTD

######################
# ranges CTD.0501-0599
######################

## Initial event to chose spawn type

# Ping from province to owner
province_event = {	# Province fires invisible event to be in scope, then fires player decision event
	id = CTD.0501
	
	is_triggered_only = yes		# by decision
	
	hide_window = yes
	
	immediate = {
		save_event_target_as = target_spawn_province	# save province
		owner = {
			if = {	# player gets cycleable options first
				limit = {
					ai = no
				}
				character_event = {	# Give owner cycleable choice
					id = CTD.0502
				}
			}
			if = {	# ai goes directly to choice event because it can see all options at once
				limit = {
					ai = yes
				}
				character_event = {	# Give owner actual choice now
					id = CTD.0503
				}
			}
		}
	}
}

# Let province owner chose spawn type first
character_event = {
	id = CTD.0502
	# Different descriptions based on current event "chain" location
	desc = {
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_fundamental_spawn_type
			}
		}
		text = CTDDESC_A_0502
		picture = "GFX_evt_fishing"
	}
	desc = {
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_nature_spawn_type
			}
		}
		text = CTDDESC_B_0502
		picture = "GFX_evt_fishing"
	}
	desc = {
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_agriculture_spawn_type
			}
		}
		text = CTDDESC_C_0502
		picture = "GFX_evt_fishing"
	}
	desc = {
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_livestock_spawn_type
			}
		}
		text = CTDDESC_D_0502
		picture = "GFX_evt_fishing"
	}
	# MORE
	# ...
	
	is_triggered_only = yes		# by event
	
	## Player-only options to display a selection of the event and cycle through options
	# Decide which major type to look at - or abort
	option = {	# Decide fundamental type: Nature
		name = CTDOPTA_0502
		trigger = {	# Only visible if player is in this part of the event "chain"
			event_target:target_spawn_province = {	# flag was set on province to avoid confusion for multiple siumltaneously taken decisions (on different provinces)
				has_province_flag = player_decides_on_fundamental_spawn_type
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_fundamental_spawn_type
			set_province_flag = player_decides_on_nature_spawn_type
		}
		repeat_event = {	# Repeat event with different options
			id = CTD.0502
		}
	}
	option = {	# Decide fundamental type: Agriculture
		name = CTDOPTB_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_fundamental_spawn_type
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_fundamental_spawn_type
			set_province_flag = player_decides_on_agriculture_spawn_type
		}
		repeat_event = {	# Repeat event with different options
			id = CTD.0502
		}
	}
	option = {	# Decide fundamental type: Livestock
		name = CTDOPTC_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_fundamental_spawn_type
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_fundamental_spawn_type
			set_province_flag = player_decides_on_livestock_spawn_type
		}
		repeat_event = {	# Repeat event with different options
			id = CTD.0502
		}
	}
	option = {	# Decide fundamental type: ABORT event instead
		name = CTDOPT_ABORT_0502
		trigger = {	# Only visible if player is in this part of the event "chain"
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_fundamental_spawn_type
			}
		}
		event_target:target_spawn_province = {	# Clear ALL flag
			clr_province_flag = player_decides_on_fundamental_spawn_type
			clr_province_flag = deciding_on_spawn_type	# Flag from decision
		}
		# Nothing else, event ends and decision can be taken again
	}
	# /end of first part
	
	# Decide which subtype to consider - Nature
	option = {	# Decide subtype: Unique_1
		name = CTDOPTD_0502
		trigger = {	# Only visible if player is in this part of the event "chain"
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_nature_spawn_type
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_nature_spawn_type
			set_province_flag = player_decides_on_spawn_unique_1
		}
		character_event = {	# Go to actual spawn choice now
			id = CTD.0503
		}
	}
	option = {	# Decide subtype: Unique_2
		name = CTDOPTE_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_nature_spawn_type
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_nature_spawn_type
			set_province_flag = player_decides_on_spawn_unique_2
		}
		character_event = {	# Go to actual spawn choice now
			id = CTD.0503
		}
	}
	option = {	# Decide subtype: Forests
		name = CTDOPTF_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_nature_spawn_type
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_nature_spawn_type
			set_province_flag = player_decides_on_spawn_forests
		}
		character_event = {	# Go to actual spawn choice now
			id = CTD.0503
		}
	}
	# Switch "page"
	option = {	# Decide subtype: Second nature "page"
		name = CTDOPT_SWITCHPAGE_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_nature_spawn_type
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_nature_spawn_type
			set_province_flag = player_decides_on_nature_spawn_type_2
		}
		repeat_event = {	# Repeat event with different options
			id = CTD.0502
		}
	}
	option = {	# Decide subtype: Mining_1
		name = CTDOPTG_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_nature_spawn_type_2
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_nature_spawn_type_2
			set_province_flag = player_decides_on_spawn_mining_1
		}
		character_event = {	# Go to actual spawn choice now
			id = CTD.0503
		}
	}
	option = {	# Decide subtype: Mining_2
		name = CTDOPTH_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_nature_spawn_type_2
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_nature_spawn_type_2
			set_province_flag = player_decides_on_spawn_mining_2
		}
		character_event = {	# Go to actual spawn choice now
			id = CTD.0503
		}
	}
	# Go back to main decision
	option = {	# Go back to main decision (duh)
		name = CTDOPT_GOBACKTOMAIN_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_nature_spawn_type_2
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_nature_spawn_type_2
			set_province_flag = player_decides_on_fundamental_spawn_type
		}
		repeat_event = {	# Repeat event with different options
			id = CTD.0502
		}
	}
	
	# Decide which subtype to consider - Agriculture
	option = {	# Decide subtype: Fields
		name = CTDOPTI_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_agriculture_spawn_type
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_agriculture_spawn_type
			set_province_flag = player_decides_on_spawn_fields
		}
		character_event = {	# Go to actual spawn choice now
			id = CTD.0503
		}
	}
	option = {	# Decide subtype: Orchards_1
		name = CTDOPTJ_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_agriculture_spawn_type
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_agriculture_spawn_type
			set_province_flag = player_decides_on_spawn_orchards_1
		}
		character_event = {	# Go to actual spawn choice now
			id = CTD.0503
		}
	}
	option = {	# Decide subtype: Orchards_2
		name = CTDOPTK_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_agriculture_spawn_type
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_agriculture_spawn_type
			set_province_flag = player_decides_on_spawn_orchards_2
		}
		character_event = {	# Go to actual spawn choice now
			id = CTD.0503
		}
	}
	# Switch "page"
	option = {	# Decide subtype: Second agriculture "page"
		name = CTDOPT_SWITCHPAGE_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_agriculture_spawn_type
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_agriculture_spawn_type
			set_province_flag = player_decides_on_agriculture_spawn_type_2
		}
		repeat_event = {	# Repeat event with different options
			id = CTD.0502
		}
	}
	option = {	# Decide subtype: Orchards_3
		name = CTDOPTL_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_agriculture_spawn_type_2
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_agriculture_spawn_type_2
			set_province_flag = player_decides_on_spawn_orchards_3
		}
		character_event = {	# Go to actual spawn choice now
			id = CTD.0503
		}
	}
	option = {	# Decide subtype: Orchards_4
		name = CTDOPTM_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_agriculture_spawn_type_2
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_agriculture_spawn_type_2
			set_province_flag = player_decides_on_spawn_orchards_4
		}
		character_event = {	# Go to actual spawn choice now
			id = CTD.0503
		}
	}
	option = {	# Decide subtype: Orchards_5
		name = CTDOPTN_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_agriculture_spawn_type_2
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_agriculture_spawn_type_2
			set_province_flag = player_decides_on_spawn_orchards_5
		}
		character_event = {	# Go to actual spawn choice now
			id = CTD.0503
		}
	}
	# Switch "page"
	option = {	# Decide subtype: Third agriculture "page"
		name = CTDOPT_SWITCHPAGE_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_agriculture_spawn_type_2
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_agriculture_spawn_type_2
			set_province_flag = player_decides_on_agriculture_spawn_type_3
		}
		repeat_event = {	# Repeat event with different options
			id = CTD.0502
		}
	}
	option = {	# Decide subtype: Orchards_6
		name = CTDOPTO_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_agriculture_spawn_type_3
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_agriculture_spawn_type_3
			set_province_flag = player_decides_on_spawn_orchards_6
		}
		character_event = {	# Go to actual spawn choice now
			id = CTD.0503
		}
	}
	option = {	# Decide subtype: Orchards_7
		name = CTDOPTP_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_agriculture_spawn_type_3
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_agriculture_spawn_type_3
			set_province_flag = player_decides_on_spawn_orchards_7
		}
		character_event = {	# Go to actual spawn choice now
			id = CTD.0503
		}
	}
	option = {	# Decide subtype: Orchards_8
		name = CTDOPTQ_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_agriculture_spawn_type_3
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_agriculture_spawn_type_3
			set_province_flag = player_decides_on_spawn_orchards_8
		}
		character_event = {	# Go to actual spawn choice now
			id = CTD.0503
		}
	}
	# Go back to main decision
	option = {	# Go back to main decision (duh)
		name = CTDOPT_GOBACKTOMAIN_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_agriculture_spawn_type_3
			}
		}
		event_target:target_spawn_province = {	# Clear ALL flag
			clr_province_flag = player_decides_on_agriculture_spawn_type_3
			set_province_flag = player_decides_on_fundamental_spawn_type
		}
		repeat_event = {	# Repeat event with different options
			id = CTD.0502
		}
	}
	
	# Decide which subtype to consider - Livestock
	option = {	# Decide subtype: Livestock_1
		name = CTDOPTR_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_livestock_spawn_type
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_livestock_spawn_type
			set_province_flag = player_decides_on_spawn_livestock_1
		}
		character_event = {	# Go to actual spawn choice now
			id = CTD.0503
		}
	}
	option = {	# Decide subtype: Livestock_2
		name = CTDOPTS_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_livestock_spawn_type
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_livestock_spawn_type
			set_province_flag = player_decides_on_spawn_livestock_2
		}
		character_event = {	# Go to actual spawn choice now
			id = CTD.0503
		}
	}
	option = {	# Decide subtype: Livestock_3
		name = CTDOPTT_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_livestock_spawn_type
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_livestock_spawn_type
			set_province_flag = player_decides_on_spawn_livestock_3
		}
		character_event = {	# Go to actual spawn choice now
			id = CTD.0503
		}
	}
	# Switch "page"
	option = {	# Decide subtype: Second livestock "page"
		name = CTDOPT_SWITCHPAGE_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_livestock_spawn_type
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_livestock_spawn_type
			set_province_flag = player_decides_on_livestock_spawn_type_2
		}
		repeat_event = {	# Repeat event with different options
			id = CTD.0502
		}
	}
	option = {	# Decide subtype: Livestock_4
		name = CTDOPTU_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_livestock_spawn_type_2
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_livestock_spawn_type_2
			set_province_flag = player_decides_on_spawn_livestock_4
		}
		character_event = {	# Go to actual spawn choice now
			id = CTD.0503
		}
	}
	option = {	# Decide subtype: Livestock_5
		name = CTDOPTV_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_livestock_spawn_type_2
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_livestock_spawn_type_2
			set_province_flag = player_decides_on_spawn_livestock_5
		}
		character_event = {	# Go to actual spawn choice now
			id = CTD.0503
		}
	}
	option = {	# Decide subtype: Livestock_6
		name = CTDOPTW_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_livestock_spawn_type_2
			}
		}
		event_target:target_spawn_province = {	# Switch flags
			clr_province_flag = player_decides_on_livestock_spawn_type_2
			set_province_flag = player_decides_on_spawn_livestock_6
		}
		character_event = {	# Go to actual spawn choice now
			id = CTD.0503
		}
	}
	# Go back to main decision
	option = {	# Go back to main decision (duh)
		name = CTDOPT_GOBACKTOMAIN_0502
		trigger = {
			event_target:target_spawn_province = {
				has_province_flag = player_decides_on_livestock_spawn_type_2
			}
		}
		event_target:target_spawn_province = {	# Clear ALL flag
			clr_province_flag = player_decides_on_livestock_spawn_type_2
			set_province_flag = player_decides_on_fundamental_spawn_type
		}
		repeat_event = {	# Repeat event with different options
			id = CTD.0502
		}
	}
}

# Now chose actual spawn
character_event = {
	id = CTD.0503
	desc = CTDDESC_0503
	
	is_triggered_only = yes		# by event
	
	### A list of all -actual- spawn options - AI sees them simultaneousely!
	
	## Nature:
	# Hunting
	option = {
		name = CTDOPTAA_0503
		trigger = {
			AND = {
				OR = {	# Different visibility: For the AI by default, restricted only for player
					ai = yes
					event_target:target_spawn_province = {
						has_province_flag = player_decides_on_spawn_unique_1
					}
				}
				hunting_spawn_possible_CTD_trigger = yes
			}
		}
		hidden_tooltip = {
			event_target:target_spawn_province = {
				clr_province_flag = player_decides_on_spawn_unique_1
				set_province_flag = chosen_spawn_is_hunting
			}
			character_event = {	# Event to confirm
				id = CTD.0504
			}
		}
	}
	# Gathering
	option = {
		name = CTDOPTAB_0503
		trigger = {
			AND = {
				OR = {
					ai = yes
					event_target:target_spawn_province = {
						has_province_flag = player_decides_on_spawn_unique_1
					}
				}
				gathering_spawn_possible_CTD_trigger = yes
			}
		}
		hidden_tooltip = {
			event_target:target_spawn_province = {
				clr_province_flag = player_decides_on_spawn_unique_1
				set_province_flag = chosen_spawn_is_gathering
			}
			character_event = {	# Event to confirm
				id = CTD.0504
			}
		}
	}
	# Fishing
	option = {
		name = CTDOPTAC_0503
		trigger = {
			AND = {
				OR = {
					ai = yes
					event_target:target_spawn_province = {
						has_province_flag = player_decides_on_spawn_unique_2
					}
				}
				fishing_spawn_possible_CTD_trigger = yes
			}
		}
		hidden_tooltip = {
			event_target:target_spawn_province = {
				clr_province_flag = player_decides_on_spawn_unique_2
				set_province_flag = chosen_spawn_is_fishing
			}
			character_event = {	# Event to confirm
				id = CTD.0504
			}
		}
	}
	# Whaling
	option = {
		name = CTDOPTAD_0503
		trigger = {
			AND = {
				OR = {
					ai = yes
					event_target:target_spawn_province = {
						has_province_flag = player_decides_on_spawn_unique_2
					}
				}
				whaling_spawn_possible_CTD_trigger = yes
			}
		}
		hidden_tooltip = {
			event_target:target_spawn_province = {
				clr_province_flag = player_decides_on_spawn_unique_2
				set_province_flag = chosen_spawn_is_whaling
			}
			character_event = {	# Event to confirm
				id = CTD.0504
			}
		}
	}
	# Diving
	option = {
		name = CTDOPTAE_0503
		trigger = {
			AND = {
				OR = {
					ai = yes
					event_target:target_spawn_province = {
						has_province_flag = player_decides_on_spawn_unique_2
					}
				}
				diving_spawn_possible_CTD_trigger = yes
			}
		}
		hidden_tooltip = {
			event_target:target_spawn_province = {
				clr_province_flag = player_decides_on_spawn_unique_2
				set_province_flag = chosen_spawn_is_diving
			}
			character_event = {	# Event to confirm
				id = CTD.0504
			}
		}
	}
	# Coniferous Forest
	option = {
		name = CTDOPTAF_0503
		trigger = {
			AND = {
				OR = {
					ai = yes
					event_target:target_spawn_province = {
						has_province_flag = player_decides_on_spawn_forests
					}
				}
				coniferous_forest_spawn_possible_CTD_trigger = yes
			}
		}
		hidden_tooltip = {
			event_target:target_spawn_province = {
				clr_province_flag = player_decides_on_spawn_forests
				set_province_flag = chosen_spawn_is_coniferous_forest
			}
			character_event = {	# Event to confirm
				id = CTD.0504
			}
		}
	}
	# Broadleave Forest
	option = {
		name = CTDOPTAG_0503
		trigger = {
			AND = {
				OR = {
					ai = yes
					event_target:target_spawn_province = {
						has_province_flag = player_decides_on_spawn_forests
					}
				}
				broadleave_forest_spawn_possible_CTD_trigger = yes
			}
		}
		hidden_tooltip = {
			event_target:target_spawn_province = {
				clr_province_flag = player_decides_on_spawn_forests
				set_province_flag = chosen_spawn_is_broadleave_forest
			}
			character_event = {	# Event to confirm
				id = CTD.0504
			}
		}
	}
	# Tropical Rainforest
	option = {
		name = CTDOPTAH_0503
		trigger = {
			AND = {
				OR = {
					ai = yes
					event_target:target_spawn_province = {
						has_province_flag = player_decides_on_spawn_forests
					}
				}
				tropical_rainforest_spawn_possible_CTD_trigger = yes
			}
		}
		hidden_tooltip = {
			event_target:target_spawn_province = {
				clr_province_flag = player_decides_on_spawn_forests
				set_province_flag = chosen_spawn_is_tropical_rainforest
			}
			character_event = {	# Event to confirm
				id = CTD.0504
			}
		}
	}
	# Bamboo Forest
	option = {
		name = CTDOPTAI_0503
		trigger = {
			AND = {
				OR = {
					ai = yes
					event_target:target_spawn_province = {
						has_province_flag = player_decides_on_spawn_forests
					}
				}
				bamboo_forest_spawn_possible_CTD_trigger = yes
			}
		}
		hidden_tooltip = {
			event_target:target_spawn_province = {
				clr_province_flag = player_decides_on_spawn_forests
				set_province_flag = chosen_spawn_is_bamboo_forest
			}
			character_event = {	# Event to confirm
				id = CTD.0504
			}
		}
	}
	# Open Pit Mining
	option = {
		name = CTDOPTAJ_0503
		trigger = {
			AND = {
				OR = {
					ai = yes
					event_target:target_spawn_province = {
						has_province_flag = player_decides_on_spawn_mining_1
					}
				}
				open_pit_mining_spawn_possible_CTD_trigger = yes
			}
		}
		hidden_tooltip = {
			event_target:target_spawn_province = {
				clr_province_flag = player_decides_on_spawn_mining_1
				set_province_flag = chosen_spawn_is_open_pit_mining
			}
			character_event = {	# Event to confirm
				id = CTD.0504
			}
		}
	}
	# Underground Mining
	option = {
		name = CTDOPTAK_0503
		trigger = {
			AND = {
				OR = {
					ai = yes
					event_target:target_spawn_province = {
						has_province_flag = player_decides_on_spawn_mining_1
					}
				}
				underground_mining_spawn_possible_CTD_trigger = yes
			}
		}
		hidden_tooltip = {
			event_target:target_spawn_province = {
				clr_province_flag = player_decides_on_spawn_mining_1
				set_province_flag = chosen_spawn_is_underground_mining
			}
			character_event = {	# Event to confirm
				id = CTD.0504
			}
		}
	}
	# Placer Mining
	option = {
		name = CTDOPTAL_0503
		trigger = {
			AND = {
				OR = {
					ai = yes
					event_target:target_spawn_province = {
						has_province_flag = player_decides_on_spawn_mining_1
					}
				}
				placer_mining_spawn_possible_CTD_trigger = yes
			}
		}
		hidden_tooltip = {
			event_target:target_spawn_province = {
				clr_province_flag = player_decides_on_spawn_mining_1
				set_province_flag = chosen_spawn_is_player_mining
			}
			character_event = {	# Event to confirm
				id = CTD.0504
			}
		}
	}
	# Quarrying
	option = {
		name = CTDOPTAM_0503
		trigger = {
			AND = {
				OR = {
					ai = yes
					event_target:target_spawn_province = {
						has_province_flag = player_decides_on_spawn_mining_1
					}
				}
				digging_spawn_possible_CTD_trigger = yes
			}
		}
		hidden_tooltip = {
			event_target:target_spawn_province = {
				clr_province_flag = player_decides_on_spawn_mining_1
				set_province_flag = chosen_spawn_is_quarrying
			}
			character_event = {	# Event to confirm
				id = CTD.0504
			}
		}
	}
	# Digging
	option = {
		name = CTDOPTAN_0503
		trigger = {
			AND = {
				OR = {
					ai = yes
					event_target:target_spawn_province = {
						has_province_flag = player_decides_on_spawn_mining_2
					}
				}
				quarrying_spawn_possible_CTD_trigger = yes
			}
		}
		hidden_tooltip = {
			event_target:target_spawn_province = {
				clr_province_flag = player_decides_on_spawn_mining_2
				set_province_flag = chosen_spawn_is_digging
			}
			character_event = {	# Event to confirm
				id = CTD.0504
			}
		}
	}
	# Salt Evaporation
	option = {
		name = CTDOPTAO_0503
		trigger = {
			AND = {
				OR = {
					ai = yes
					event_target:target_spawn_province = {
						has_province_flag = player_decides_on_spawn_mining_2
					}
				}
				salt_evaporation_spawn_possible_CTD_trigger = yes
			}
		}
		hidden_tooltip = {
			event_target:target_spawn_province = {
				clr_province_flag = player_decides_on_spawn_mining_2
				set_province_flag = chosen_spawn_is_salt_evaporation
			}
			character_event = {	# Event to confirm
				id = CTD.0504
			}
		}
	}
	# Natural Wells
	option = {
		name = CTDOPTAP_0503
		trigger = {
			AND = {
				OR = {
					ai = yes
					event_target:target_spawn_province = {
						has_province_flag = player_decides_on_spawn_mining_2
					}
				}
				natural_wells_spawn_possible_CTD_trigger = yes
			}
		}
		hidden_tooltip = {
			event_target:target_spawn_province = {
				clr_province_flag = player_decides_on_spawn_mining_2
				set_province_flag = chosen_spawn_is_natural_wells
			}
			character_event = {	# Event to confirm
				id = CTD.0504
			}
		}
	}
	
	## Agriculture:
	# Crop Fields
	option = {
		name = CTDOPTAQ_0503
		trigger = {
			AND = {
				OR = {
					ai = yes
					event_target:target_spawn_province = {
						has_province_flag = player_decides_on_spawn_fields
					}
				}
				crop_fields_spawn_possible_CTD_trigger = yes
			}
		}
		hidden_tooltip = {
			event_target:target_spawn_province = {
				clr_province_flag = player_decides_on_spawn_fields
				set_province_flag = chosen_spawn_is_crop_fields
			}
			character_event = {	# Event to confirm
				id = CTD.0504
			}
		}
	}
	# Paddy Fields
	option = {
		name = CTDOPTAR_0503
		trigger = {
			AND = {
				OR = {
					ai = yes
					event_target:target_spawn_province = {
						has_province_flag = player_decides_on_spawn_fields
					}
				}
				paddy_fields_spawn_possible_CTD_trigger = yes
			}
		}
		hidden_tooltip = {
			event_target:target_spawn_province = {
				clr_province_flag = player_decides_on_spawn_fields
				set_province_flag = chosen_spawn_is_paddy_fields
			}
			character_event = {	# Event to confirm
				id = CTD.0504
			}
		}
	}
	# Gardening
	option = {
		name = CTDOPTAS_0503
		trigger = {
			AND = {
				OR = {
					ai = yes
					event_target:target_spawn_province = {
						has_province_flag = player_decides_on_spawn_fields
					}
				}
				gardening_spawn_possible_CTD_trigger = yes
			}
		}
		hidden_tooltip = {
			event_target:target_spawn_province = {
				clr_province_flag = player_decides_on_spawn_fields
				set_province_flag = chosen_spawn_is_gardening
			}
			character_event = {	# Event to confirm
				id = CTD.0504
			}
		}
	}
	# Vineyards
	option = {
		name = CTDOPTAT_0503
		trigger = {
			AND = {
				OR = {
					ai = yes
					event_target:target_spawn_province = {
						has_province_flag = player_decides_on_spawn_orchards_1
					}
				}
				vineyards_spawn_possible_CTD_trigger = yes
			}
		}
		hidden_tooltip = {
			event_target:target_spawn_province = {
				clr_province_flag = player_decides_on_spawn_orchards_1
				set_province_flag = chosen_spawn_is_vineyards
			}
			character_event = {	# Event to confirm
				id = CTD.0504
			}
		}
	}
	# Copse
	option = {
		name = CTDOPTAU_0503
		trigger = {
			AND = {
				OR = {
					ai = yes
					event_target:target_spawn_province = {
						has_province_flag = player_decides_on_spawn_orchards_1
					}
				}
				copse_spawn_possible_CTD_trigger = yes
			}
		}
		hidden_tooltip = {
			event_target:target_spawn_province = {
				clr_province_flag = player_decides_on_spawn_orchards_1
				set_province_flag = chosen_spawn_is_copse
			}
			character_event = {	# Event to confirm
				id = CTD.0504
			}
		}
	}
	# Cork Oak Groves
	option = {
		name = CTDOPTAT_0503
		trigger = {
			AND = {
				OR = {
					ai = yes
					event_target:target_spawn_province = {
						has_province_flag = player_decides_on_spawn_orchards_1
					}
				}
				cork_oak_groves_spawn_possible_CTD_trigger = yes
			}
		}
		hidden_tooltip = {
			event_target:target_spawn_province = {
				clr_province_flag = player_decides_on_spawn_orchards_1
				set_province_flag = chosen_spawn_is_cork_oak_groves
			}
			character_event = {	# Event to confirm
				id = CTD.0504
			}
		}
	}
	
	# ...
	# more
	# ...
	
}

# Asked to confirm spawn - if yes, assign spawn & fire (delayed) resource choice event
character_event = {
	id = CTD.0504
	desc = CTDDESC_0504
	
	is_triggered_only = yes		# by event
	
	# Accept choice & apply, reset decision
	option = {
		name = CTDOPTA_0504
		
		piety = 100 # test
		event_target:target_spawn_province = {
			trigger_switch = {	# Decides which modifier to apply based on flag set before
				on_trigger = has_province_flag
				chosen_spawn_is_hunting = {
					add_province_modifier = {
						name = spawn_nature_unique_hunting
						duration = -1
					}
					# Delayed event for resource choice:
					province_event = {
						id = CTD.0505
						# no delay here
					}
				}
				chosen_spawn_is_gathering = {
					add_province_modifier = {
						name = spawn_nature_unique_gathering
						duration = -1
					}
					# Delayed event for resource choice:
					province_event = {
						id = CTD.0506
						# no delay here
					}
				}
			}
			# Clear all province flags:
			clr_province_flag = deciding_on_spawn_type
			clr_province_flag = chosen_spawn_is_hunting
			clr_province_flag = chosen_spawn_is_gathering
			# AND SO FORTH
			# ...
		}
	}
	# Abort event, reset decision
	option = {
		name = CTDOPTB_0504
		trigger = {
			ai = no	# AI has no second thoughts
		}
		event_target:target_spawn_province = {
			# Clear all province flags:
			clr_province_flag = deciding_on_spawn_type
			clr_province_flag = chosen_spawn_is_hunting
			clr_province_flag = chosen_spawn_is_gathering
			# AND SO FORTH
			# ...
		}
	}
}